<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>


<div class="container">
  <div class="row">
    <div class="col-md-offset-3 col-md-6">

      <div class="tab" role="tabpanel">
        <!-- Nav tabs -->
        <ul class="nav nav-tabs" role="tablist">
          <li role="presentation" [ngClass]="{active:authType === 'login' }" class="hover-cursor"><a
            (click)="authType = 'login'" aria-controls="home" role="tab" data-toggle="tab">sign in</a></li>
          <li role="presentation" [ngClass]="{active:authType !== 'login' }" class="hover-cursor"><a
            (click)="authType = 'register'" aria-controls="profile"
            role="tab" data-toggle="tab">sign up</a></li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content tabs">
          <div class="text-danger" *ngIf="warningFlag">{{warningMessage}}</div>
          <div class="text-success" *ngIf="successFlag">{{successMessage}}</div>
          <div role="tabpanel" class="tab-pane fade in active" *ngIf="authType === 'login'">
            <form class="form-horizontal" [formGroup]="registerForm">
              <div class="form-group">
                <label>username</label>
                <input type="text" class="form-control" formControlName="username"
                       [ngClass]="{'has-error': registerForm.get('username')!.errors && (registerForm.get('username')!.dirty || registerForm.get('username')!.touched)}">
                <span *ngIf="registerForm.get('username')!.errors && registerForm.get('username')!.touched" class="text-white">
                Ник должен быть от 4 до 10 символов
                </span>
              </div>
              <div class="form-group">
                <label>Password</label>
                <input type="password" formControlName="password" class="form-control"
                       [ngClass]="{'has-error': registerForm.get('password')!.errors && (registerForm.get('password')!.dirty || registerForm.get('password')!.touched)}">
                <span *ngIf="registerForm.get('password')!.errors && registerForm.get('password')!.touched" class="text-white">
                Пароль должен содержать минимум 4 символа
                </span>
              </div>
              <div class="form-group">
                <button type="submit" (click)="onLoginSubmit()" [disabled]="!registerForm.valid" class="btn btn-default">Sign in</button>
              </div>
            </form>
          </div>
          <div role="tabpanel" *ngIf="authType !== 'login'">
            <form class="form-horizontal" [formGroup]="registerForm">
              <div class="form-group">
                <label>username</label>
                <input type="text" class="form-control" formControlName="username"
                       [ngClass]="{'has-error': registerForm.get('username')!.errors && (registerForm.get('username')!.dirty || registerForm.get('username')!.touched)}">
                <span *ngIf="registerForm.get('username')!.errors && registerForm.get('username')!.touched" class="text-white">
                Ник должен быть от 4 до 10 символов
                </span>
              </div>
              <div class="form-group">
                <label>Password</label>
                <input type="password" formControlName="password" class="form-control"
                       [ngClass]="{'has-error': registerForm.get('password')!.errors && (registerForm.get('password')!.dirty || registerForm.get('password')!.touched)}">
                <span *ngIf="registerForm.get('password')!.errors && registerForm.get('password')!.touched" class="text-white">
                Пароль должен содержать минимум 4 символа
                </span>
              </div>
              <div class="form-group">
                <button type="submit" (click)="onRegisterSubmit()" [disabled]="!registerForm.valid" class="btn btn-default">Sign up</button>
              </div>
            </form>
          </div>
        </div>
      </div>

    </div><!-- /.col-md-offset-3 col-md-6 -->
  </div><!-- /.row -->
</div><!-- /.container -->
